<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="author" content="Laclede's LAN" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>CSGO Map Picker</title>

        <link rel="shortcut icon" href="./assets/images/favicon.ico">

        <script src="./assets/js/jquery-3.min.js"></script>

        <link rel="stylesheet" href="./assets/stylesheets/font-awesome4.5.min.css">

        <style>
            html, body {
                background: url(./assets/images/map_picker/background.jpg) center;
                height: 100%;
                margin: 0;
                padding: 0; 
            }
			
			.element {
			    position: fixed;
			    bottom: 0;
			    right: 0;
			}
			
			.element2 {
				position: fixed;
				top: 0;
				right: 0;
			}

            table {
                height: auto;
                font-size: 250%;
                text-align: center;
                text-transform: lowercase;
                min-height: 100%;
                width: 100%; 
                
                color: gold;
                font-weight: bold;
                text-decoration: none;
                text-shadow:
                    -2px -2px 0 #000,
                    2px -2px 0 #000,
                    -2px 2px 0 #000,
                    2px 2px 0 #000; 
            }

            table tr {
                background-position:left center;
                background-size: cover;
                height: 50%;
                width: 25%;
            }
			
			table td {
				height:200px;
				width:33%;
			}
            
            table tr #backAction {
                background-color: #43bcdc;
                color: #eeeeee;
                cursor: pointer;
                font-size: 22px;
                margin-left: 190px;
                padding: 18px 10px 10px 10px;
                text-align: center;
                text-decoration: none;
                text-transform: none;
                width: 200px;
                visibility:hidden;
				
			
                
                /* Disable text selection */
                -webkit-touch-callout: none; /* iOS Safari */
                -webkit-user-select: none;   /* Chrome/Safari/Opera */
                -khtml-user-select: none;    /* Konqueror */
                -moz-user-select: none;      /* Firefox */
                -ms-user-select: none;       /* IE/Edge */
                user-select: none;           /* non-prefixed version, currently not supported by any browser */
            }
			
			table tr #homeAction {
                background-color: #43bcdc;
                color: #eeeeee;
                cursor: pointer;
                font-size: 22px;
                margin-left: 190px;
                padding: 18px 10px 10px 10px;
                text-align: center;
                text-decoration: none;
                text-transform: none;
                width: 200px;
			}
			
        </style>
    </head>

    <body>
        <table>
            <tr>
                <td onclick="disableCell('de_ali')" id="de_ali" style="background: url(./assets/images/map_picker/csgo/de_ali.jpg) no-repeat center;">
                    Ali (de)
                </td>
                <td  onclick="disableCell('de_aztec')" id="de_aztec" style="background: url(./assets/images/map_picker/csgo/de_aztec.jpg) no-repeat center;">
                    Aztec (de)
                </td>
                <td onclick="disableCell('de_bank')" id="de_bank" style="background: url(./assets/images/map_picker/csgo/de_bank.jpg) no-repeat center;">
                    Bank (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_bazaar')" id="de_bazaar" style="background: url(./assets/images/map_picker/csgo/de_bazaar.jpg) no-repeat center;">
                    Bazaar (de)
                </td>
                <td  onclick="disableCell('de_blackgold')" id="de_blackgold" style="background: url(./assets/images/map_picker/csgo/de_blackgold.jpg) no-repeat center;">
                    Black Gold (de)
                </td>
                <td onclick="disableCell('de_cache')" id="de_cache" style="background: url(./assets/images/map_picker/csgo/de_cache.jpg) no-repeat center;">
                    Cache (de)
                </td>
             </tr>
            <tr>
                <td onclick="disableCell('de_castle')" id="de_castle" style="background: url(./assets/images/map_picker/csgo/de_castle.jpg) no-repeat center;">
                    Castle (de)
                </td>
                <td onclick="disableCell('de_cbble')" id="de_cbble" style="background: url(./assets/images/map_picker/csgo/de_cbble.jpg) no-repeat center;">
                    Cobblestone (de)
                </td>
                <td onclick="disableCell('de_coast')" id="de_coast" style="background: url(./assets/images/map_picker/csgo/de_coast.jpg) no-repeat center;">
                    Coast (de)
                </td>
            </tr>
            <tr>
                <td onclick="disableCell('de_dust')" id="de_dust" style="background: url(./assets/images/map_picker/csgo/de_dust.jpg) no-repeat center;">
                    Dust (de)
                </td>
                <td  onclick="disableCell('de_dust2')" id="de_dust2" style="background: url(./assets/images/map_picker/csgo/de_dust2.jpg) no-repeat center;">
                    Dust II (de)
                </td>
                <td onclick="disableCell('de_empire')" id="de_empire" style="background: url(./assets/images/map_picker/csgo/de_empire.jpg) no-repeat center;">
                    Empire (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_facade')" id="de_facade" style="background: url(./assets/images/map_picker/csgo/de_facade.jpg) no-repeat center;">
                    Facade (de)
                </td>
                <td  onclick="disableCell('de_favela')" id="de_favela" style="background: url(./assets/images/map_picker/csgo/de_favela.jpg) no-repeat center;">
                    Favela (de)
                </td>
                <td onclick="disableCell('de_inferno')" id="de_inferno" style="background: url(./assets/images/map_picker/csgo/de_inferno.jpg) no-repeat center;">
                    Inferno (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_lake')" id="de_lake" style="background: url(./assets/images/map_picker/csgo/de_lake.jpg) no-repeat center;">
                    Lake (de)
                </td>
                <td  onclick="disableCell('de_log')" id="de_log" style="background: url(./assets/images/map_picker/csgo/de_log.jpg) no-repeat center;">
                    Log (de)
                </td>
                <td onclick="disableCell('de_marquis')" id="de_marquis" style="background: url(./assets/images/map_picker/csgo/de_marquis.jpg) no-repeat center;">
                    Marquis (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_mikla')" id="de_mikla" style="background: url(./assets/images/map_picker/csgo/de_mikla.jpg) no-repeat center;">
                    Mikla (de)
                </td>
                <td  onclick="disableCell('de_mirage')" id="de_mirage" style="background: url(./assets/images/map_picker/csgo/de_mirage.jpg) no-repeat center;">
                    Mirage (de)
                </td>
                <td onclick="disableCell('de_mist')" id="de_mist" style="background: url(./assets/images/map_picker/csgo/de_mist.jpg) no-repeat center;">
                    Mist (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_nuke')" id="de_nuke" style="background: url(./assets/images/map_picker/csgo/de_nuke.jpg) no-repeat center;">
                    Nuke (de)
                </td>
                <td  onclick="disableCell('de_overgrown')" id="de_overgrown" style="background: url(./assets/images/map_picker/csgo/de_overgrown.jpg) no-repeat center;">
                    Overgrown (de)
                </td>
                <td onclick="disableCell('de_overpass')" id="de_overpass" style="background: url(./assets/images/map_picker/csgo/de_overpass.jpg) no-repeat center;">
                    Overpass (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_rails')" id="de_rails" style="background: url(./assets/images/map_picker/csgo/de_rails.jpg) no-repeat center;">
                    Rails (de)
                </td>
                <td  onclick="disableCell('de_resort')" id="de_resort" style="background: url(./assets/images/map_picker/csgo/de_resort.jpg) no-repeat center;">
                    Resort (de)
                </td>
                <td onclick="disableCell('de_royal')" id="de_royal" style="background: url(./assets/images/map_picker/csgo/de_royal.jpg) no-repeat center;">
                    Royal (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_safehouse')" id="de_safehouse" style="background: url(./assets/images/map_picker/csgo/de_safehouse.jpg) no-repeat center;">
                    Safehouse (de)
                </td>
                <td  onclick="disableCell('de_santorini')" id="de_santorini" style="background: url(./assets/images/map_picker/csgo/de_santorini.jpg) no-repeat center;">
                    Santorini (de)
                </td>
                <td onclick="disableCell('de_seaside')" id="de_seaside" style="background: url(./assets/images/map_picker/csgo/de_seaside.jpg) no-repeat center;">
                    Seaside (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_season')" id="de_season" style="background: url(./assets/images/map_picker/csgo/de_season.jpg) no-repeat center;">
                    Season (de)
                </td>
                <td  onclick="disableCell('de_shorttrain')" id="de_shorttrain" style="background: url(./assets/images/map_picker/csgo/de_shorttrain.jpg) no-repeat center;">
                    Short Train (de)
                </td>
                <td onclick="disableCell('de_stmarc')" id="de_stmarc" style="background: url(./assets/images/map_picker/csgo/de_stmarc.jpg) no-repeat center;">
                    St Marc (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_sugarcane')" id="de_sugarcane" style="background: url(./assets/images/map_picker/csgo/de_sugarcane.jpg) no-repeat center;">
                    Sugar Cane (de)
                </td>
                <td  onclick="disableCell('de_train')" id="de_train" style="background: url(./assets/images/map_picker/csgo/de_train.jpg) no-repeat center;">
                    Train (de)
                </td>
                <td onclick="disableCell('de_tulip')" id="de_tulip" style="background: url(./assets/images/map_picker/csgo/de_tulip.jpg) no-repeat center;">
                    Tulip (de)
                </td>
             </tr>
             <tr>
                <td onclick="disableCell('de_vertigo')" id="de_vertigo" style="background: url(./assets/images/map_picker/csgo/de_vertigo.jpg) no-repeat center;">
                    Vertigo (de)
                </td>
                <td onclick="disableCell('de_zoo')" id="de_zoo" style="background: url(./assets/images/map_picker/csgo/de_zoo.jpg) no-repeat center;">
                    Zoo (de)
                </td>
                <td>
                    <div class="element" id="backAction" onClick="resetPage();">&nbsp;UNDO</div>
                </td>
                <td>
                    <div class="element2" id="homeAction" onclick="location.href='selection_screen.html'">&nbsp;HOME</div>
                </td>
            </tr>
        </table>

        <script>
            // Add function that entry from array by value
            Array.prototype.remove = function() {
                var what, a = arguments, L = a.length, ax;
                    while (L && this.length) {
                    what = a[--L];
                    while ((ax = this.indexOf(what)) !== -1) {
                        this.splice(ax, 1);
                    }
                }
                return this;
            };

            var eliminatedMaps = new Array();
            var mapPool = ['de_ali', 'de_aztec', 'de_bank', 'de_bazaar', 'de_blackgold', 'de_cache', 'de_castle', 'de_cbble', 'de_coast', 'de_dust', 'de_dust2', 'de_empire', 'de_facade', 'de_favela', 'de_inferno', 'de_lake', 'de_log', 'de_marquis', 'de_mikla', 'de_mirage', 'de_mist', 'de_nuke', 'de_overgrown', 'de_overpass', 'de_rails', 'de_resort', 'de_royal', 'de_safehouse', 'de_santorini', 'de_seaside', 'de_season', 'de_shorttrain', 'de_stmarc', 'de_sugarcane', 'de_train', 'de_tulip', 'de_vertigo', 'de_zoo'];

            $( document ).ready(function() {
                window.console.clear();
            });

            function disableCell(mapName) {
                mapName = mapName.toString().trim().toLowerCase();

                if (mapPool.indexOf(mapName) > -1) {
                    if (eliminatedMaps.length < mapPool.length - 1 && eliminatedMaps.indexOf(mapName) < 0) {
                        eliminatedMaps.push(mapName);
                        $('#' + mapName).empty();
                        $('#' + mapName).css('background-image', 'none');
                        
                        window.console.log(mapName + ' cell removed.');
                    }
                }
                
                if (eliminatedMaps.length == mapPool.length - 1) {
                    $('#backAction').html('<i class="fa fa-undo"></i>&nbsp;RESET');
                } else if (eliminatedMaps.length > 0) {
                    $('#backAction').css('visibility', 'visible');
                    $('#backAction').html('<i class="fa fa-step-backward"></i>&nbsp;UNDO');
                }
            };

            function enableCell(mapName) {
                if (mapPool.indexOf(mapName) > -1 && eliminatedMaps.indexOf(mapName) > -1) {
                    $('#' + mapName).css('background-image', 'url("./assets/images/map_picker/csgo/' + mapName + '.jpg")');
                    $('#' + mapName).text(mapName);
                    eliminatedMaps.remove(mapName);
                    
                    window.console.log(mapName + ' cell enabled.');
                }
                
                if (eliminatedMaps.length < 1) {
                    $('#backAction').css('visibility', 'hidden');
                }
            };

            function resetPage() {
                if (eliminatedMaps.length + 1 >= mapPool.length ) {
                    while (eliminatedMaps.length > 0) {
                        enableCell(eliminatedMaps[eliminatedMaps.length - 1]);
                    }
                } else if (eliminatedMaps.length > 0) {
                    enableCell(eliminatedMaps[eliminatedMaps.length - 1]);
                }
            };
        </script>
    </body>
</html>