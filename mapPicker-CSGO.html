<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="author" content="Laclede's LAN" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>CSGO Picker | Laclede's LAN</title>

		<link rel="shortcut icon" href="./assets/images/favicon.ico">

		<script src="./assets/data/mapPickerData.js"></script>
        <!-- <script src="./assets/js/jquery-3.min.js"></script> -->
        <script src="./assets/js/mapPicker.js"></script>

		<link rel="stylesheet" href="./assets/stylesheets/font-awesome.min.css">
		<link rel="stylesheet" href="./assets/stylesheets/mapPicker.css">

	</head>

	<body onload="loadMaps(0)" >

        <div id="maps_container">
        </div>

		<script>


            // Add function that entry from array by value
            Array.prototype.remove = function() {
                var what, a = arguments, L = a.length, ax;
                    while (L && this.length) {
                    what = a[--L];
                    while ((ax = this.indexOf(what)) !== -1) {
                        this.splice(ax, 1);
                    }
                }
                return this;
            };


			var eliminatedMaps = new Array();
            var mapPool = ['Dust_II', 'Nuke', 'Cache', 'Mirage', 'Overpass', 'Train', 'Cobblestone', 'Inferno'];
			// 'de_ali', 'de_aztec', 'de_bank', 'de_bazaar', 'de_blackgold', 'de_cache', 'de_castle', 'de_cbble', 'de_coast', 'de_dust', 'de_dust2', 'de_empire', 'de_facade', 'de_favela', 'de_lake', 'de_log', 'de_marquis', 'de_mikla', 'de_mirage', 'de_mist', 'de_nuke', 'de_overgrown', 'de_overpass', 'de_rails', 'de_resort', 'de_royal', 'de_safehouse', 'de_santorini', 'de_seaside', 'de_season', 'de_shorttrain', 'de_stmarc', 'de_sugarcane', 'de_train', 'de_tulip', 'de_vertigo', 'de_zoo'-->];

            $( document ).ready(function() {
                window.console.clear();
            });

            function lock(mapName) {
				mapName = mapName.toString();


				if (mapPool.indexOf(mapName) > -1 && eliminatedMaps.indexOf(mapName) > -1) {
                    $('#' + mapName).css('background-image', 'url("./assets/images/map_picker/csgo/' + mapName + '.jpg")');
                    $('#' + mapName).text(mapName);
                    /*eliminatedMaps.remove(mapName);*/

                    window.console.log(mapName + ' cell locked.');
                }

                if (eliminatedMaps.length < 1) {
                    $('#backAction').css('visibility', 'hidden');
                }

			};

			function disableCell(mapName) {
                mapName = mapName.toString();

                if (mapPool.indexOf(mapName) > -1) {
                    if (eliminatedMaps.length < mapPool.length - 1 && eliminatedMaps.indexOf(mapName) < 0) {
                        eliminatedMaps.push(mapName);
                        /*$('#' + mapName).empty();*/
                        $('#' + mapName).css('background-image', 'none');
						$('#' + mapName).css('border-style', 'outset');
						$('#' + mapName).css('border-color', 'red');
						$('#' + mapName).css('border-width', '10px');

                        window.console.log(mapName + ' cell removed.');
                    }
                }

                if (eliminatedMaps.length == mapPool.length - 1) {
                    $('#backAction').html('&nbsp;<i class="fa fa-undo fa-2x"></i>&nbsp;'); /* REST */
                } else if (eliminatedMaps.length > 0) {
                    $('#backAction').css('visibility', 'visible');
                    $('#backAction').html('&nbsp;<i class="fa fa-step-backward fa-2x"></i>&nbsp;');  /* STEP BACKWARDS */
                }
            };

            function enableCell(mapName) {
                if (mapPool.indexOf(mapName) > -1 && eliminatedMaps.indexOf(mapName) > -1) {
                    $('#' + mapName).css('background-image', 'url("./assets/images/map_picker/csgo/' + mapName + '.jpg")');
                    $('#' + mapName).text(mapName);
					$('#' + mapName).css('border-style', 'outset');
					$('#' + mapName).css('border-color', 'transparent');
					$('#' + mapName).css('border-width', '10px');
                    eliminatedMaps.remove(mapName);

                    window.console.log(mapName + ' cell enabled.');
                }

                if (eliminatedMaps.length < 1) {
                    $('#backAction').css('visibility', 'hidden');
                }
            };

            function resetPage() {
                if (eliminatedMaps.length + 1 >= mapPool.length ) {
                    while (eliminatedMaps.length > 0) {
                        enableCell(eliminatedMaps[eliminatedMaps.length - 1]);
                    }
                } else if (eliminatedMaps.length > 0) {
                    enableCell(eliminatedMaps[eliminatedMaps.length - 1]);
                }
            };


        </script>
	</body>

</html>